(function(){var e={46700:function(e,t,a){var l={"./af":63906,"./af.js":63906,"./ar":40902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":20299,"./ar-kw.js":20299,"./ar-ly":96825,"./ar-ly.js":96825,"./ar-ma":66379,"./ar-ma.js":66379,"./ar-sa":87700,"./ar-sa.js":87700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":40902,"./az":76043,"./az.js":76043,"./be":7936,"./be.js":7936,"./bg":34078,"./bg.js":34078,"./bm":14014,"./bm.js":14014,"./bn":29554,"./bn-bd":17114,"./bn-bd.js":17114,"./bn.js":29554,"./bo":6529,"./bo.js":6529,"./br":65437,"./br.js":65437,"./bs":19647,"./bs.js":19647,"./ca":59951,"./ca.js":59951,"./cs":26113,"./cs.js":26113,"./cv":37965,"./cv.js":37965,"./cy":35858,"./cy.js":35858,"./da":33515,"./da.js":33515,"./de":62831,"./de-at":6263,"./de-at.js":6263,"./de-ch":51127,"./de-ch.js":51127,"./de.js":62831,"./dv":4510,"./dv.js":4510,"./el":68616,"./el.js":68616,"./en-au":24595,"./en-au.js":24595,"./en-ca":73545,"./en-ca.js":73545,"./en-gb":79609,"./en-gb.js":79609,"./en-ie":43727,"./en-ie.js":43727,"./en-il":93302,"./en-il.js":93302,"./en-in":46305,"./en-in.js":46305,"./en-nz":39128,"./en-nz.js":39128,"./en-sg":84569,"./en-sg.js":84569,"./eo":50650,"./eo.js":50650,"./es":26358,"./es-do":64214,"./es-do.js":64214,"./es-mx":38639,"./es-mx.js":38639,"./es-us":30232,"./es-us.js":30232,"./es.js":26358,"./et":47279,"./et.js":47279,"./eu":15515,"./eu.js":15515,"./fa":27981,"./fa.js":27981,"./fi":37090,"./fi.js":37090,"./fil":79208,"./fil.js":79208,"./fo":2799,"./fo.js":2799,"./fr":23463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":52848,"./fr-ch.js":52848,"./fr.js":23463,"./fy":41468,"./fy.js":41468,"./ga":88163,"./ga.js":88163,"./gd":2898,"./gd.js":2898,"./gl":76312,"./gl.js":76312,"./gom-deva":20682,"./gom-deva.js":20682,"./gom-latn":49178,"./gom-latn.js":49178,"./gu":31400,"./gu.js":31400,"./he":52795,"./he.js":52795,"./hi":17009,"./hi.js":17009,"./hr":46506,"./hr.js":46506,"./hu":69565,"./hu.js":69565,"./hy-am":93864,"./hy-am.js":93864,"./id":5626,"./id.js":5626,"./is":36649,"./is.js":36649,"./it":90151,"./it-ch":95348,"./it-ch.js":95348,"./it.js":90151,"./ja":79830,"./ja.js":79830,"./jv":33751,"./jv.js":33751,"./ka":63365,"./ka.js":63365,"./kk":85980,"./kk.js":85980,"./km":99571,"./km.js":99571,"./kn":25880,"./kn.js":25880,"./ko":16809,"./ko.js":16809,"./ku":96773,"./ku.js":96773,"./ky":65505,"./ky.js":65505,"./lb":50553,"./lb.js":50553,"./lo":51237,"./lo.js":51237,"./lt":91563,"./lt.js":91563,"./lv":61057,"./lv.js":61057,"./me":96495,"./me.js":96495,"./mi":83096,"./mi.js":83096,"./mk":43874,"./mk.js":43874,"./ml":46055,"./ml.js":46055,"./mn":87747,"./mn.js":87747,"./mr":17113,"./mr.js":17113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":14532,"./mt.js":14532,"./my":4655,"./my.js":4655,"./nb":56961,"./nb.js":56961,"./ne":2512,"./ne.js":2512,"./nl":48448,"./nl-be":72936,"./nl-be.js":72936,"./nl.js":48448,"./nn":49031,"./nn.js":49031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":30118,"./pa-in.js":30118,"./pl":93448,"./pl.js":93448,"./pt":33518,"./pt-br":62447,"./pt-br.js":62447,"./pt.js":33518,"./ro":70817,"./ro.js":70817,"./ru":10262,"./ru.js":10262,"./sd":58990,"./sd.js":58990,"./se":43842,"./se.js":43842,"./si":37711,"./si.js":37711,"./sk":80756,"./sk.js":80756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":40732,"./sr-cyrl":75713,"./sr-cyrl.js":75713,"./sr.js":40732,"./ss":99455,"./ss.js":99455,"./sv":69770,"./sv.js":69770,"./sw":80959,"./sw.js":80959,"./ta":36459,"./ta.js":36459,"./te":25302,"./te.js":25302,"./tet":67975,"./tet.js":67975,"./tg":71294,"./tg.js":71294,"./th":2385,"./th.js":2385,"./tk":24613,"./tk.js":24613,"./tl-ph":58668,"./tl-ph.js":58668,"./tlh":58190,"./tlh.js":58190,"./tr":74506,"./tr.js":74506,"./tzl":63440,"./tzl.js":63440,"./tzm":69852,"./tzm-latn":42350,"./tzm-latn.js":42350,"./tzm.js":69852,"./ug-cn":70730,"./ug-cn.js":70730,"./uk":40099,"./uk.js":40099,"./ur":72100,"./ur.js":72100,"./uz":96002,"./uz-latn":26322,"./uz-latn.js":26322,"./uz.js":96002,"./vi":14207,"./vi.js":14207,"./x-pseudo":24674,"./x-pseudo.js":24674,"./yo":10570,"./yo.js":10570,"./zh-cn":73644,"./zh-cn.js":73644,"./zh-hk":22591,"./zh-hk.js":22591,"./zh-mo":89503,"./zh-mo.js":89503,"./zh-tw":88080,"./zh-tw.js":88080};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=n,e.exports=o,o.id=46700},81243:function(e,t,a){"use strict";var l=a(49242),o=a(73396),n=a(44870);const u={id:"basicLayout"};function i(e,t,a,l,n,i){const s=(0,o.up)("GlobalHeader"),r=(0,o.up)("a-layout-header"),d=(0,o.up)("router-view"),c=(0,o.up)("a-layout-content"),m=(0,o.up)("a-layout");return(0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(m,{style:{"min-height":"100vh"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"header",id:"basic_header"},{default:(0,o.w5)((()=>[(0,o.Wm)(s)])),_:1}),(0,o.Wm)(c,{class:"content"},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1})])),_:1})])}a(57658);var s=a(87139),r=a.p+"img/logo.b19aeb50.png",d=a.p+"img/401.e97527ef.svg";const c=e=>((0,o.dD)("data-v-eec994c2"),e=e(),(0,o.Cn)(),e),m={id:"404page"},p=c((()=>(0,o._)("div",{class:"title"},"401 错误 !",-1))),g=c((()=>(0,o._)("div",{class:"images"},[(0,o._)("img",{width:"500",src:d})],-1)));function f(e,t){const a=(0,o.up)("a-button"),l=(0,o.up)("a-space"),n=(0,o.up)("a-result");return(0,o.wg)(),(0,o.iD)("div",m,[p,g,(0,o.Wm)(n,{status:null,title:"对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面"},{extra:(0,o.w5)((()=>[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Wm)(a,{class:"back-404",type:"primary",href:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("首页")])),_:1})])),_:1})])),_:1})])}var v=a(40089);const h={},w=(0,v.Z)(h,[["render",f],["__scopeId","data-v-eec994c2"]]);var b=w,y=a(60878),_=a(38829),k=a(42575);let U;class W extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}var j=new WeakMap,C=new WeakMap,V=new WeakMap,S=new WeakMap,N=new WeakMap,z=new WeakMap,P=new WeakMap;U=Symbol.toStringTag;class x{constructor(e){(0,y.Z)(this,j,{writable:!0,value:void 0}),(0,y.Z)(this,C,{writable:!0,value:void 0}),(0,y.Z)(this,V,{writable:!0,value:void 0}),(0,y.Z)(this,S,{writable:!0,value:void 0}),(0,y.Z)(this,N,{writable:!0,value:void 0}),(0,y.Z)(this,z,{writable:!0,value:void 0}),(0,y.Z)(this,P,{writable:!0,value:void 0}),(0,k.Z)(this,j,!1),(0,k.Z)(this,C,!1),(0,k.Z)(this,V,!1),(0,k.Z)(this,S,[]),(0,k.Z)(this,N,new Promise(((t,a)=>{(0,k.Z)(this,z,t),(0,k.Z)(this,P,a);const l=e=>{(0,_.Z)(this,j)||(0,_.Z)(this,C)||(0,_.Z)(this,V)||((0,k.Z)(this,j,!0),(0,_.Z)(this,z)?.call(this,e))},o=e=>{(0,_.Z)(this,j)||(0,_.Z)(this,C)||(0,_.Z)(this,V)||((0,k.Z)(this,C,!0),(0,_.Z)(this,P)?.call(this,e))},n=e=>{(0,_.Z)(this,j)||(0,_.Z)(this,C)||(0,_.Z)(this,V)||(0,_.Z)(this,S).push(e)};return Object.defineProperty(n,"isResolved",{get:()=>(0,_.Z)(this,j)}),Object.defineProperty(n,"isRejected",{get:()=>(0,_.Z)(this,C)}),Object.defineProperty(n,"isCancelled",{get:()=>(0,_.Z)(this,V)}),e(l,o,n)})))}get[U](){return"Cancellable Promise"}then(e,t){return(0,_.Z)(this,N).then(e,t)}catch(e){return(0,_.Z)(this,N).catch(e)}finally(e){return(0,_.Z)(this,N).finally(e)}cancel(){if(!((0,_.Z)(this,j)||(0,_.Z)(this,C)||(0,_.Z)(this,V))){if((0,k.Z)(this,V,!0),(0,_.Z)(this,S).length)try{for(const e of(0,_.Z)(this,S))e()}catch(e){return void console.warn("Cancellation threw an error",e)}(0,_.Z)(this,S).length=0,(0,_.Z)(this,P)?.call(this,new W("Request aborted"))}}get isCancelled(){return(0,_.Z)(this,V)}}const O={BASE:"http://localhost:8104",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};a(82801);var T=a(44161),Z=a(96237),I=a.n(Z),H=a(47327);class L extends Error{constructor(e,t,a){super(a),(0,H.Z)(this,"url",void 0),(0,H.Z)(this,"status",void 0),(0,H.Z)(this,"statusText",void 0),(0,H.Z)(this,"body",void 0),(0,H.Z)(this,"request",void 0),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}const F=e=>void 0!==e&&null!==e,q=e=>"string"===typeof e,D=e=>q(e)&&""!==e,E=e=>"object"===typeof e&&"string"===typeof e.type&&"function"===typeof e.stream&&"function"===typeof e.arrayBuffer&&"function"===typeof e.constructor&&"string"===typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),M=e=>e instanceof I(),A=e=>e>=200&&e<300,$=e=>{try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}},R=e=>{const t=[],a=(e,a)=>{t.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(a))}`)},l=(e,t)=>{F(t)&&(Array.isArray(t)?t.forEach((t=>{l(e,t)})):"object"===typeof t?Object.entries(t).forEach((([t,a])=>{l(`${e}[${t}]`,a)})):a(e,t))};return Object.entries(e).forEach((([e,t])=>{l(e,t)})),t.length>0?`?${t.join("&")}`:""},B=(e,t)=>{const a=e.ENCODE_PATH||encodeURI,l=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,((e,l)=>t.path?.hasOwnProperty(l)?a(String(t.path[l])):e)),o=`${e.BASE}${l}`;return t.query?`${o}${R(t.query)}`:o},Y=e=>{if(e.formData){const t=new(I()),a=(e,a)=>{q(a)||E(a)?t.append(e,a):t.append(e,JSON.stringify(a))};return Object.entries(e.formData).filter((([e,t])=>F(t))).forEach((([e,t])=>{Array.isArray(t)?t.forEach((t=>a(e,t))):a(e,t)})),t}},J=async(e,t)=>"function"===typeof t?t(e):t,G=async(e,t,a)=>{const l=await J(t,e.TOKEN),o=await J(t,e.USERNAME),n=await J(t,e.PASSWORD),u=await J(t,e.HEADERS),i="function"===typeof a?.getHeaders&&a?.getHeaders()||{},s=Object.entries({Accept:"application/json",...u,...t.headers,...i}).filter((([e,t])=>F(t))).reduce(((e,[t,a])=>({...e,[t]:String(a)})),{});if(D(l)&&(s["Authorization"]=`Bearer ${l}`),D(o)&&D(n)){const e=$(`${o}:${n}`);s["Authorization"]=`Basic ${e}`}return t.body&&(t.mediaType?s["Content-Type"]=t.mediaType:E(t.body)?s["Content-Type"]=t.body.type||"application/octet-stream":q(t.body)?s["Content-Type"]="text/plain":M(t.body)||(s["Content-Type"]="application/json")),s},Q=e=>{if(e.body)return e.body},K=async(e,t,a,l,o,n,u,i)=>{const s=T.Z.CancelToken.source(),r={url:a,headers:n,data:l??o,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:s.token};u((()=>s.cancel("The user aborted a request.")));try{return await i.request(r)}catch(d){const e=d;if(e.response)return e.response;throw d}},X=(e,t)=>{if(t){const a=e.headers[t];if(q(a))return a}},ee=e=>{if(204!==e.status)return e.data},te=(e,t)=>{const a={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors},l=a[t.status];if(l)throw new L(e,t,l);if(!t.ok){const a=t.status??"unknown",l=t.statusText??"unknown",o=(()=>{try{return JSON.stringify(t.body,null,2)}catch(e){return}})();throw new L(e,t,`Generic Error: status: ${a}; status text: ${l}; body: ${o}`)}},ae=(e,t,a=T.Z)=>new x((async(l,o,n)=>{try{const o=B(e,t),u=Y(t),i=Q(t),s=await G(e,t,u);if(!n.isCancelled){const r=await K(e,t,o,i,u,s,n,a),d=ee(r),c=X(r,t.responseHeader),m={url:o,ok:A(r.status),status:r.status,statusText:r.statusText,body:c??d};te(t,m),l(m.body)}}catch(u){o(u)}}));class le{static uploadOssFileUsingPost(e){return ae(O,{method:"POST",url:"/api/file/upload",formData:{file:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static uploadZipFileUsingPost(e){return ae(O,{method:"POST",url:"/api/file/upload/zip",formData:{file:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}}class oe{static addQuestionUsingPost(e){return ae(O,{method:"POST",url:"/api/question/add",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static deleteQuestionUsingPost(e){return ae(O,{method:"POST",url:"/api/question/delete",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static editQuestionUsingPost(e){return ae(O,{method:"POST",url:"/api/question/edit",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static getQuestionByIdUsingGet(e){return ae(O,{method:"GET",url:"/api/question/get",query:{id:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static getQuestionVoByIdUsingGet(e){return ae(O,{method:"GET",url:"/api/question/get/vo",query:{id:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static listQuestionByPageUsingPost(e){return ae(O,{method:"POST",url:"/api/question/list/page",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static listQuestionVoByPageUsingPost(e){return ae(O,{method:"POST",url:"/api/question/list/page/vo",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static listMyQuestionVoByPageUsingPost(e){return ae(O,{method:"POST",url:"/api/question/my/list/page/vo",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static updateQuestionUsingPost(e){return ae(O,{method:"POST",url:"/api/question/update",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}}class ne{static listQuestionSubmitByPageUsingPost(e){return ae(O,{method:"POST",url:"/api/question_submit/list/page",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static doQuestionSubmitUsingPost(e){return ae(O,{method:"POST",url:"/api/question_submit/sumbit",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static doQuestionSubmitOnlineUsingPost(e){return ae(O,{method:"POST",url:"/api/question_submit/sumbit/online",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}}class ue{static addUserUsingPost(e){return ae(O,{method:"POST",url:"/api/user/add",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static deleteUserUsingPost(e){return ae(O,{method:"POST",url:"/api/user/delete",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static getUserByIdUsingGet(e){return ae(O,{method:"GET",url:"/api/user/get",query:{id:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static getLoginUserUsingGet(){return ae(O,{method:"GET",url:"/api/user/get/login",errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static getUserVoByIdUsingGet(e){return ae(O,{method:"GET",url:"/api/user/get/vo",query:{id:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static listUserByPageUsingPost(e){return ae(O,{method:"POST",url:"/api/user/list/page",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static listUserVoByPageUsingPost(e){return ae(O,{method:"POST",url:"/api/user/list/page/vo",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static userLoginUsingPost(e){return ae(O,{method:"POST",url:"/api/user/login",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static userLogoutUsingPost(){return ae(O,{method:"POST",url:"/api/user/logout",errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static userRegisterUsingPost(e){return ae(O,{method:"POST",url:"/api/user/register",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static updateUserUsingPost(e){return ae(O,{method:"POST",url:"/api/user/update",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}static updateMyUserUsingPost(e){return ae(O,{method:"POST",url:"/api/user/update/my",body:e,errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found"}})}}var ie=a(54842),se=a(22483),re=a(20065);const de={id:"userLoginView"},ce=(0,o._)("h1",{style:{margin:"32px 0"}},"登录 思源 OJ 判题系统",-1);var me=(0,o.aZ)({__name:"UserLoginView",setup(e){const t=(0,n.qj)({userAccount:"",userPassword:""}),a=(0,se.tv)(),l=(0,re.oR)(),u=async()=>{const e=await ue.userLoginUsingPost(t);0===e.code?(await l.dispatch("user/getLoginUser"),a.push({path:"/",replace:!0}),ie.Z.success("登录成功！")):ie.Z.error("登陆失败，"+e.message)};return(e,a)=>{const l=(0,o.up)("a-input"),n=(0,o.up)("a-form-item"),i=(0,o.up)("a-input-password"),s=(0,o.up)("a-form"),r=(0,o.up)("a-button"),d=(0,o.up)("a-space");return(0,o.wg)(),(0,o.iD)("div",de,[ce,(0,o.Wm)(s,{style:{"max-width":"320px",margin:"0 auto"},"label-align":"left","auto-label-width":"",model:t},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{required:"",field:"userAccount",label:"账号",tooltip:"账号不少于 4 位"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:t.userAccount,"onUpdate:modelValue":a[0]||(a[0]=e=>t.userAccount=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{required:"",field:"userPassword",tooltip:"密码不少于 8 位",label:"密码"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:t.userPassword,"onUpdate:modelValue":a[1]||(a[1]=e=>t.userPassword=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.Wm)(d,{wrap:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{style:{width:"120px",margin:"16px"},size:"large",shape:"round",type:"primary","html-type":"submit",onClick:u},{default:(0,o.w5)((()=>[(0,o.Uk)(" 登 录 ")])),_:1})])),_:1})])}}});const pe=me;var ge=pe,fe=a(36797),ve=a.n(fe);const he={id:"userInfoView"},we=["src"],be={style:{"text-align":"center"}},ye={key:0,class:"arco-upload-list-picture custom-upload-avatar"},_e=["src"],ke={class:"arco-upload-list-picture-mask"};var Ue=(0,o.aZ)({__name:"UserInfoView",setup(e){const t=(0,se.tv)(),a=(0,n.iH)(),l=(0,re.oR)();let u=l.state.user.loginUser;const i=[{label:"用户名称：",value:u.userName},{label:"账号名称：",value:u.userAccount},{label:"我的简介：",value:u.userProfile},{label:"用户角色：",value:"user"===u.userRole?"普通用户":"管理员"},{label:"邮箱：",value:""!==u.email?u.email:"未填写"},{label:"电话：",value:""!==u.phone?u.phone:"未填写"},{label:"当前状态：",value:""!==u.userState?u.userState:"暂无简介"},{label:"创建时间：",value:ve()(u.createTime).format("YYYY-MM-DD HH:mm:ss")},{label:"修改时间：",value:ve()(u.updateTime).format("YYYY-MM-DD HH:mm:ss")}],s=(0,n.iH)(!1),r=(0,n.iH)({...l.state.user?.loginUser});let d=r.value.userAvatar;const c=async()=>{const e=await le.uploadOssFileUsingPost(a?.value.file);0===e.code?(d=e.data,ie.Z.success("上传成功，点击确认即可修改头像")):ie.Z.error("上传失败！"+e.data)},m=()=>{s.value=!0},p=async()=>{const e=await ue.updateMyUserUsingPost({...r.value,userAvatar:d});0===e.code?(ie.Z.success("更新成功！"),s.value=!1,location.reload()):ie.Z.error("更新失败！",e.msg)},g=()=>{s.value=!1},f=()=>{t.push({path:"/"})},v=async(e,t)=>{a.value={...t}};return(e,t)=>{const l=(0,o.up)("a-avatar"),h=(0,o.up)("a-descriptions-item"),w=(0,o.up)("a-descriptions"),b=(0,o.up)("a-badge"),y=(0,o.up)("a-card"),_=(0,o.up)("IconEdit"),k=(0,o.up)("a-upload"),U=(0,o.up)("a-input"),W=(0,o.up)("a-form-item"),j=(0,o.up)("a-textarea"),C=(0,o.up)("a-form"),V=(0,o.up)("a-modal"),S=(0,o.up)("a-link"),N=(0,o.up)("a-button");return(0,o.wg)(),(0,o.iD)("div",he,[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{size:100,shape:"circle"},{default:(0,o.w5)((()=>[(0,o._)("img",{alt:"头像",src:(0,n.SU)(u).userAvatar},null,8,we)])),_:1})])),_:1}),(0,o.Wm)(y,{title:"我的信息"},{extra:(0,o.w5)((()=>[(0,o.Wm)(b,{status:"success",text:"在线"})])),default:(0,o.w5)((()=>[(0,o.Wm)(w,{data:i,size:"large",column:"1",bordered:""})])),_:1}),(0,o.Wm)(V,{width:"30%",visible:s.value,placement:"right",onOk:p,onCancel:g,unmountOnClose:""},{default:(0,o.w5)((()=>[(0,o._)("div",be,[(0,o.Wm)(k,{action:"/",fileList:a.value?[a.value]:[],"show-file-list":!1,onChange:v,"custom-request":c},{"upload-button":(0,o.w5)((()=>[r.value.userAvatar?((0,o.wg)(),(0,o.iD)("div",ye,[(0,o.Wm)(l,{size:70,shape:"circle"},{default:(0,o.w5)((()=>[(0,o._)("img",{alt:"头像",src:(0,n.SU)(d)},null,8,_e)])),_:1}),(0,o._)("div",ke,[(0,o.Wm)(_)])])):(0,o.kq)("",!0)])),_:1},8,["fileList"])]),(0,o.Wm)(C,{model:(0,n.SU)(u),"label-align":"right",title:"个人信息",style:{"max-width":"480px",margin:"0 auto"}},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{field:"用户名称",label:"用户名称 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{modelValue:r.value.userName,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value.userName=e),placeholder:"请输入用户名称"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(W,{field:"邮箱",label:"邮箱 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{modelValue:r.value.email,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(W,{field:"电话",label:"电话 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{modelValue:r.value.phone,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.phone=e),placeholder:"请输入电话号码"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(W,{field:"userProfile",label:"简介 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{modelValue:r.value.userProfile,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value.userProfile=e),placeholder:"请输入简介"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"]),(0,o._)("div",null,[(0,o.Wm)(N,{shape:"round",status:"success",size:"small",type:"outline",style:{margin:"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{onClick:f},{default:(0,o.w5)((()=>[(0,o.Uk)("首页")])),_:1})])),_:1}),(0,o.Wm)(N,{shape:"round",status:"normal",size:"medium",type:"outline",style:{margin:"10px"},onClick:m},{default:(0,o.w5)((()=>[(0,o.Uk)("修改用户信息 ")])),_:1})])])}}});const We=(0,v.Z)(Ue,[["__scopeId","data-v-f1701e4a"]]);var je=We,Ce=a(96723),Ve=a(99890),Se=a(72489),Ne=a(3628),ze=a(2889);const Pe="Block formula",xe="formula",Oe="Inline formula",Te="formula",Ze={block:Pe,blockText:xe,inline:Oe,inlineText:Te},Ie={Formula:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="m40 9-3-3H8l18 18L8 42h29l3-3"/></svg>',Inline:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="m37 9-3-3H8l17 18L8 42h26l3-3M5 24h10M33 24h10"/></svg>',Block:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="m36 11-3-3H12l16 16-16 16h21l3-3M6 5v38M42 5v38"/></svg>'};function He(e){return[{icon:Ie.Formula,handler:{type:"dropdown",actions:[{title:e.inline,icon:Ie.Inline,cheatsheet:`$${e.inlineText}$`,handler:{type:"action",click({wrapText:e,editor:t}){e("$"),t.focus()}}},{title:e.block,icon:Ie.Block,cheatsheet:`$$↵${e.blockText}↵$$`,handler:{type:"action",click({appendBlock:e,editor:t,codemirror:a}){const{line:l}=e("$$\n\\TeX\n$$");t.setSelection(a.Pos(l+1,0),a.Pos(l+1,4)),t.focus()}}},{title:"上标",icon:Ie.Inline,cheatsheet:`${e.inlineText}`,handler:{type:"action",click({wrapText:e,editor:t}){e("<sup>","</sup>"),t.focus()}}},{title:"下标",icon:Ie.Inline,cheatsheet:`$${e.inlineText}$`,handler:{type:"action",click({wrapText:e,editor:t}){e("<sub>","</sub>"),t.focus()}}}]}}]}function Le({locale:e,katexOptions:t}={}){const l={...Ze,...e};let o;return{remark:e=>e.use(ze.Z),viewerEffect({markdownBody:e}){const l=async(l,n)=>{const u=e.querySelectorAll(l);0!==u.length&&(o||(o=await a.e(2020).then(a.bind(a,12020)).then((e=>e.default))),u.forEach((e=>{o.render(e.innerText,e,{...t,throwOnError:!1,displayMode:n})})))};l(".math.math-inline",!1),l(".math.math-display",!0)},actions:He(l)}}var Fe=a(72076),qe=a(68970),De=a(59571),Ee=(0,o.aZ)({__name:"MdEditor",props:{value:{default:()=>""},mode:{default:()=>"split"},handleChange:{type:Function,default:e=>""}},setup(e){const t=[(0,Ce.Z)({locale:qe}),(0,De.Z)(),Le({locale:Fe}),(0,Ne.Z)()];return(e,a)=>((0,o.wg)(),(0,o.j4)((0,n.SU)(Ve.M),{value:e.value,mode:e.mode,plugins:t,locale:(0,n.SU)(Se),onChange:e.handleChange},null,8,["value","mode","locale","onChange"]))}});const Me=Ee;var Ae=Me,$e=a(89335),Re=(0,o.aZ)({__name:"CodeEditor",props:{value:{default:()=>""},language:{default:()=>"java"},handleChange:{type:Function,default:e=>{}}},setup(e){const t=e,a=(0,n.iH)(),l=(0,n.iH)();(0,o.YP)((()=>t.language),(()=>{l.value&&$e.j6.setModelLanguage((0,n.IU)(l.value).getModel(),t.language)}));var u=!0;return(0,o.YP)((()=>t.value),(()=>{console.log("in watch"),u&&((0,n.IU)(l.value).setValue(t.value),u=!1)})),(0,o.bv)((()=>{console.log(t.value);const e=(0,n.iH)(t.value);a.value&&(console.log(e),l.value=$e.j6.create(a.value,{value:t.value,language:t.language,folding:!0,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,minimap:{enabled:!0,size:"fill",maxColumn:50},emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"off",lineNumbers:"on",lineNumbersMinChars:1,readOnly:!1,theme:"vs-dark"}),l.value.onDidChangeModelContent((()=>{t.handleChange((0,n.IU)(l.value).getValue())})),$e.Mj.registerCompletionItemProvider("java",{provideCompletionItems:function(e,t){const a=t.lineNumber,l=t.column,o=e.getLineContent(a),n=o[l-2];e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column});var u=e.getWordUntilPosition(t),i={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:u.startColumn,endColumn:u.endColumn},s=[];if("$"==n);else{var r=["abstract","assert","boolean","break","byte","case","catch","char","class","continue","default","do","double","else","enum","extends","final","finally","float","for","if","implements","import","int","interface","instanceof","long","native","new","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","try","void","volatile","while","true","false","null"];for(var d in r)s.push({label:r[d],kind:$e.Mj.CompletionItemKind["Function"],insertText:r[d],detail:"",range:i})}return{suggestions:s}},triggerCharacters:["$",""]}))})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{id:"code-editor",ref_key:"codeEditorRef",ref:a,style:{"min-height":"200px",height:"100%"}},null,512))}});const Be=Re;var Ye=Be;const Je={class:"home"};var Ge=(0,o.aZ)({__name:"ExampleView",setup(e){const t=(0,n.iH)(),a=(0,n.iH)('public class Main {\n    public static void main(String[] args) {\n        System.out.println("Hello, World!");\n    }\n}\n'),l=e=>{t.value=e},u=e=>{a.value=e};return(e,n)=>((0,o.wg)(),(0,o.iD)("div",Je,[(0,o.Wm)(Ye,{value:a.value,"handle-change":u},null,8,["value"]),(0,o.Wm)(Ae,{value:t.value,"handle-change":l},null,8,["value"])]))}});const Qe=Ge;var Ke=Qe;const Xe={id:"userManageView"},et=["src"],tt={style:{"text-align":"center"}},at=["src"];var lt=(0,o.aZ)({__name:"UserManageView",setup(e){(0,se.tv)();const t=(0,n.iH)(),a=(0,n.iH)(),l=(0,n.iH)(!1),u=(0,n.iH)(!1),i=(0,n.iH)(),r=(0,n.iH)(),d=(0,n.iH)([]),c=(0,n.iH)(0),m=(0,n.iH)({id:void 0,userName:"",email:"",phone:"",pageSize:10,current:1}),p=async()=>{const e=await ue.listUserByPageUsingPost({...m.value,sortField:"createTime",sortOrder:"descend"});0===e.code?(d.value=e.data.records,c.value=e.data.total):ie.Z.error("加载失败，"+e.message)};(0,o.m0)((()=>{p()})),(0,o.bv)((()=>{p()}));const g=[{title:"编号",dataIndex:"id",align:"center"},{title:"账号",dataIndex:"userAccount",align:"center"},{title:"名称",dataIndex:"userName",align:"center"},{title:"头像",slotName:"userAvatar",align:"center",width:64},{title:"简介",dataIndex:"userProfile",align:"center"},{title:"性别",dataIndex:"gender",align:"center"},{title:"电话",dataIndex:"phone",align:"center"},{title:"邮箱",dataIndex:"email",align:"center"},{title:"状态",slotName:"userState",align:"center"},{title:"角色",slotName:"userRole",align:"center"},{title:"创建时间",slotName:"createTime",align:"center"},{title:"更新时间",slotName:"updateTime",align:"center"},{title:"操作",slotName:"optional",align:"center"}],f=e=>{m.value={...m.value,current:e}},v=e=>{m.value={...m.value,pageSize:e}},h=async e=>{if(void 0!==e){const t=await ue.getUserByIdUsingGet(e);i.value=t.data,l.value=!0}else console.log("in else"),r.value={checkPassword:"",email:"",gender:"",phone:"",userAccount:"",userAvatar:"",userName:"",userPassword:"",userProfile:"",userRole:"",userState:""},u.value=!0},w=async e=>{const t=await ue.deleteUserUsingPost({id:e.id});0===t.code?(ie.Z.success("删除成功"),p()):ie.Z.error("删除失败")},b=()=>{m.value={...m.value,current:1}};let y=i.value?.userAvatar;const _=async()=>{console.log("头像相关");const e=await le.uploadOssFileUsingPost(a?.value.file);0===e.code?(y=e.data,ie.Z.success("上传成功，点击确认即可修改头像")):ie.Z.error("上传失败！"+e.data)},k=async()=>{const e=await ue.updateUserUsingPost({...i.value,userAvatar:y});0===e.code?(ie.Z.success("更新成功！"),l.value=!1,location.reload()):ie.Z.error("更新失败！",e.msg)},U=async()=>{if(console.log(r.value),""===r.value?.userAccount||""===r.value?.userPassword||""===r.value?.userRole||""===r.value?.userName||""===r.value?.checkPassword||""===r.value?.userProfile)return void ie.Z.error("必要参数为空！");const e=await ue.addUserUsingPost({...r.value});0===e.code?(ie.Z.success("创建成功！"),l.value=!1,location.reload()):ie.Z.error("创建失败！",e.msg)},W=()=>{l.value=!1},j=()=>{u.value=!1},C=async(e,t)=>{a.value={...t}};return(e,y)=>{const V=(0,o.up)("a-input"),S=(0,o.up)("a-form-item"),N=(0,o.up)("a-button"),z=(0,o.up)("a-form"),P=(0,o.up)("a-avatar"),x=(0,o.up)("a-tag"),O=(0,o.up)("a-popconfirm"),T=(0,o.up)("a-space"),Z=(0,o.up)("a-table"),I=(0,o.up)("a-upload"),H=(0,o.up)("a-option"),L=(0,o.up)("a-select"),F=(0,o.up)("a-textarea"),q=(0,o.up)("a-modal");return(0,o.wg)(),(0,o.iD)("div",Xe,[(0,o.Wm)(z,{model:m.value,layout:"inline",class:"main_form"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{field:"title",label:"用户编号：",tooltip:"请输入编号",class:"shorter_input"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:m.value.id,"onUpdate:modelValue":y[0]||(y[0]=e=>m.value.id=e),placeholder:"用户编号"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"title",label:"用户名称：",tooltip:"请输入用户名称"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:m.value.userName,"onUpdate:modelValue":y[1]||(y[1]=e=>m.value.userName=e),placeholder:"请输入要搜索的用户名称"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"title",label:"电话：",tooltip:"请输入电话",class:"shorter_input"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:m.value.phone,"onUpdate:modelValue":y[2]||(y[2]=e=>m.value.phone=e),placeholder:"请输入搜索电话"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"title",label:"邮箱：",tooltip:"请输入邮箱",class:"shorter_input"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:m.value.email,"onUpdate:modelValue":y[3]||(y[3]=e=>m.value.email=e),placeholder:"请输入搜索邮箱"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(N,{type:"outline",shape:"round",status:"normal",onClick:b},{default:(0,o.w5)((()=>[(0,o.Uk)("搜 索 ")])),_:1})])),_:1}),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(N,{type:"outline",shape:"round",status:"normal",onClick:p},{default:(0,o.w5)((()=>[(0,o.Uk)("刷 新 ")])),_:1})])),_:1}),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(N,{type:"outline",shape:"round",status:"normal",onClick:y[4]||(y[4]=e=>h(void 0))},{default:(0,o.w5)((()=>[(0,o.Uk)("新 增 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.Wm)(Z,{"column-resizable":!0,ref:t.value,columns:g,data:d.value,pagination:{showTotal:!0,pageSize:m.value.pageSize,current:m.value.current,total:c.value,showJumper:!0,showPageSize:!0},onPageChange:f,onPageSizeChange:v},{userAvatar:(0,o.w5)((({record:e})=>[(0,o.Wm)(P,{size:70,shape:"circle"},{default:(0,o.w5)((()=>[(0,o._)("img",{alt:"userAvatar",src:e.userAvatar},null,8,et)])),_:2},1024)])),userRole:(0,o.w5)((({record:e})=>["user"===e.userRole?((0,o.wg)(),(0,o.j4)(x,{key:0,color:"arcoblue"},{default:(0,o.w5)((()=>[(0,o.Uk)("普通用户 ")])),_:1})):(0,o.kq)("",!0),"admin"===e.userRole?((0,o.wg)(),(0,o.j4)(x,{key:1,color:"green"},{default:(0,o.w5)((()=>[(0,o.Uk)("管理员")])),_:1})):(0,o.kq)("",!0)])),createTime:(0,o.w5)((({record:e})=>[(0,o.Uk)((0,s.zw)((0,n.SU)(ve())(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),updateTime:(0,o.w5)((({record:e})=>[(0,o.Uk)((0,s.zw)((0,n.SU)(ve())(e.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)])),userState:(0,o.w5)((({record:e})=>["正常"===e.userState?((0,o.wg)(),(0,o.j4)(x,{key:0,color:"blue"},{default:(0,o.w5)((()=>[(0,o.Uk)("正常")])),_:1})):(0,o.kq)("",!0),"注销"===e.userState?((0,o.wg)(),(0,o.j4)(x,{key:1,color:"grey"},{default:(0,o.w5)((()=>[(0,o.Uk)("注销")])),_:1})):(0,o.kq)("",!0),"封号"===e.userState?((0,o.wg)(),(0,o.j4)(x,{key:2,color:"red"},{default:(0,o.w5)((()=>[(0,o.Uk)("封号")])),_:1})):(0,o.kq)("",!0)])),optional:(0,o.w5)((({record:e})=>[(0,o.Wm)(T,null,{default:(0,o.w5)((()=>[(0,o.Wm)(N,{shape:"round",type:"outline",onClick:t=>h(e.id)},{default:(0,o.w5)((()=>[(0,o.Uk)("修改 ")])),_:2},1032,["onClick"]),(0,o.Wm)(O,{content:"确定要删除此用户吗?",type:"error",okText:"是",cancelText:"否",onCancel:y[5]||(y[5]=()=>{console.log("已取消")}),onOk:t=>w(e)},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{shape:"round",type:"outline",status:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)("删除 ")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["data","pagination"]),(0,o.Wm)(q,{width:"30%",visible:l.value,placement:"right",onOk:k,onCancel:W,unmountOnClose:""},{default:(0,o.w5)((()=>[(0,o._)("div",tt,[(0,o.Wm)(I,{action:"/",fileList:a.value?[a.value]:[],"show-file-list":!1,onChange:C,"custom-request":_},{"upload-button":(0,o.w5)((()=>[(0,o.Wm)(P,{size:70,shape:"circle"},{default:(0,o.w5)((()=>[(0,o._)("img",{alt:"头像",src:i.value?.userAvatar},null,8,at)])),_:1})])),_:1},8,["fileList"])]),(0,o.Wm)(z,{"label-align":"right",title:"个人信息",style:{"max-width":"480px",margin:"0 auto"}},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{field:"名称",label:"名称 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:i.value.userName,"onUpdate:modelValue":y[6]||(y[6]=e=>i.value.userName=e),placeholder:"请输入用户名称"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"账号",label:"账号 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:i.value.userAccount,"onUpdate:modelValue":y[7]||(y[7]=e=>i.value.userAccount=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"邮箱",label:"邮箱 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:i.value.email,"onUpdate:modelValue":y[8]||(y[8]=e=>i.value.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"电话",label:"电话 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:i.value.phone,"onUpdate:modelValue":y[9]||(y[9]=e=>i.value.phone=e),placeholder:"请输入电话号码"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"用户状态",label:"状态 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{modelValue:i.value.userState,"onUpdate:modelValue":y[10]||(y[10]=e=>i.value.userState=e),placeholder:"请输入用户状态"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{value:"正常"},{default:(0,o.w5)((()=>[(0,o.Uk)("正常")])),_:1}),(0,o.Wm)(H,{value:"注销"},{default:(0,o.w5)((()=>[(0,o.Uk)("注销")])),_:1}),(0,o.Wm)(H,{value:"封号"},{default:(0,o.w5)((()=>[(0,o.Uk)("封号")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"用户角色",label:"角色 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{modelValue:i.value.userRole,"onUpdate:modelValue":y[11]||(y[11]=e=>i.value.userRole=e),placeholder:"请输入用户角色"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{value:"admin"},{default:(0,o.w5)((()=>[(0,o.Uk)("管理员")])),_:1}),(0,o.Wm)(H,{value:"user"},{default:(0,o.w5)((()=>[(0,o.Uk)("普通用户")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"性别",label:"性别 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:i.value.gender,"onUpdate:modelValue":y[12]||(y[12]=e=>i.value.gender=e),placeholder:"请输入性别"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"userProfile",label:"简介 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:i.value.userProfile,"onUpdate:modelValue":y[13]||(y[13]=e=>i.value.userProfile=e),placeholder:"请输入简介"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["visible"]),(0,o.Wm)(q,{width:"480px",visible:u.value,onOk:U,onCancel:j,unmountOnClose:""},{default:(0,o.w5)((()=>[(0,o.Wm)(z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(S,{field:"账号",label:"* 账号 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.userAccount,"onUpdate:modelValue":y[14]||(y[14]=e=>r.value.userAccount=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"密码",label:"* 密码 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.userPassword,"onUpdate:modelValue":y[15]||(y[15]=e=>r.value.userPassword=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"密码",label:"* 确认密码 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.checkPassword,"onUpdate:modelValue":y[16]||(y[16]=e=>r.value.checkPassword=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"用户角色",label:"* 角色 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{modelValue:r.value.userRole,"onUpdate:modelValue":y[17]||(y[17]=e=>r.value.userRole=e),placeholder:"请输入用户角色"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{value:"admin"},{default:(0,o.w5)((()=>[(0,o.Uk)("管理员")])),_:1}),(0,o.Wm)(H,{value:"user"},{default:(0,o.w5)((()=>[(0,o.Uk)("普通用户")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"userProfile",label:"* 简介 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:r.value.userProfile,"onUpdate:modelValue":y[18]||(y[18]=e=>r.value.userProfile=e),placeholder:"请输入简介"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"名称",label:"* 名称 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.userName,"onUpdate:modelValue":y[19]||(y[19]=e=>r.value.userName=e),placeholder:"请输入用户名称"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"邮箱",label:"邮箱 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.email,"onUpdate:modelValue":y[20]||(y[20]=e=>r.value.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"电话",label:"电话 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.phone,"onUpdate:modelValue":y[21]||(y[21]=e=>r.value.phone=e),placeholder:"请输入电话号码"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"用户状态",label:"状态 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{modelValue:r.value.userState,"onUpdate:modelValue":y[22]||(y[22]=e=>r.value.userState=e),placeholder:"请输入用户状态"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{value:"正常"},{default:(0,o.w5)((()=>[(0,o.Uk)("正常")])),_:1}),(0,o.Wm)(H,{value:"注销"},{default:(0,o.w5)((()=>[(0,o.Uk)("注销")])),_:1}),(0,o.Wm)(H,{value:"封号"},{default:(0,o.w5)((()=>[(0,o.Uk)("封号")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(S,{field:"性别",label:"性别 :"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:r.value.gender,"onUpdate:modelValue":y[23]||(y[23]=e=>r.value.gender=e),placeholder:"请输入性别"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["visible"])])}}});const ot=(0,v.Z)(lt,[["__scopeId","data-v-fc5d70b4"]]);var nt=ot;const ut={NOT_LOGIN:"notLogin",USER:"user",ADMIN:"admin"};var it=ut;const st=e=>((0,o.dD)("data-v-303d61de"),e=e(),(0,o.Cn)(),e),rt={id:"userLayout"},dt=st((()=>(0,o._)("img",{src:r,class:"logo"},null,-1))),ct=st((()=>(0,o._)("div",{style:{"margin-left":"15px","font-size":"25px","font-weight":"bold"}}," 思源 OJ 在线判题系统 ",-1)));function mt(e,t){const a=(0,o.up)("a-space"),l=(0,o.up)("a-layout-header"),n=(0,o.up)("router-view"),u=(0,o.up)("a-layout-content"),i=(0,o.up)("a-layout");return(0,o.wg)(),(0,o.iD)("div",rt,[(0,o.Wm)(i,{style:{"min-height":"100vh"}},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"header"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,null,{default:(0,o.w5)((()=>[dt,ct])),_:1})])),_:1}),(0,o.Wm)(u,{class:"content"},{default:(0,o.w5)((()=>[(0,o.Wm)(n)])),_:1})])),_:1})])}const pt={},gt=(0,v.Z)(pt,[["render",mt],["__scopeId","data-v-303d61de"]]);var ft=gt;function vt(e){try{return JSON.parse(e),!0}catch(t){return!1}}const ht={id:"addQuestionView"},wt={style:{"font-size":"32px","text-align":"center","font-weight":"bold","margin-bottom":"16px"}},bt={style:{"margin-top":"5px"}},yt={style:{"margin-top":"5px"}},_t={key:0,style:{color:"red"}},kt={key:1,style:{color:"green"}};var Ut=(0,o.aZ)({__name:"AddQuestionView",setup(e){const t=(0,se.tv)(),a=(0,se.yj)(),l=a.path.includes("update");var u;let i=(0,n.iH)({title:"",tags:[],answer:"",content:"",judgeConfig:{memoryLimit:1e3,stackLimit:1e3,timeLimit:1e3},judgeCase:[{input:"",output:""}]});const r=(0,n.iH)(null),d=()=>{r.value.click()},c=(0,n.iH)(""),m=(0,n.iH)(void 0),p=e=>{u=e.target.files[0],c.value=u.name},g=(0,n.iH)(!1),f=(0,n.iH)(""),v=async()=>{g.value=!0,setInterval((()=>{g.value&&(f.value=f.value.length<6?f.value+".":".")}),500);const e=await le.uploadZipFileUsingPost(u);m.value=e,g.value=!1},h=(0,o.Fl)((()=>void 0!==m.value||""!==i.value.judgeCase[0]?.input&&""!==i.value.judgeCase[0]?.output)),w=(0,o.Fl)((()=>""!==i.value.judgeCase[0].input||""!==i.value.judgeCase[0].output)),b=(0,n.iH)([{input:"",output:""}]);function y(){b.value.push({input:"",output:""})}const _=async()=>{const e=a.query.id;if(!e)return;const t=await oe.getQuestionByIdUsingGet(e);0===t.code?(i.value=t.data,i.value.judgeCase?i.value.judgeCase=JSON.parse(i.value.judgeCase):i.value.judgeCase=[{input:"",output:""}],i.value.judgeConfig?i.value.judgeConfig=JSON.parse(i.value.judgeConfig):i.value.judgeConfig={memoryLimit:1e3,stackLimit:1e3,timeLimit:1e3},i.value.tags?i.value.tags=JSON.parse(i.value.tags):i.value.tags=[],m.value=i.value.judgeCasePath,vt(i.value.content)&&(console.log(i.value.content),k.value=JSON.parse(i.value.content).content,b.value=JSON.parse(i.value.content).visibleJudgeCase,c.value=JSON.parse(i.value.content).selectedFileName)):ie.Z.error("加载失败，"+t.message)};(0,o.bv)((()=>{_()}));const k=(0,n.iH)(""),U=async()=>{let e={content:k.value,visibleJudgeCase:b.value,selectedFileName:c.value};i.value.content=JSON.stringify(e);let a=i.value;if(w.value){console.log(" added JuageCase");const{judgeCasePath:e,...t}=a;a=t}else{const{judgeCase:e,...t}=a;a=t,a={...a,judgeCasePath:m.value}}if(l){const e=await oe.updateQuestionUsingPost(a);0===e.code?(ie.Z.success("更新成功"),await t.push({path:"/question/manage",replace:!0})):ie.Z.error("更新失败，"+e.message)}else{console.log("in create");const e=await oe.addQuestionUsingPost(a);0===e.code?(ie.Z.success("创建成功"),i.value.answer="",i.value.tags=[],i.value.judgeCase=[],i.value.content="",i.value.title=""):ie.Z.error("创建失败，"+e.message)}},W=(0,n.iH)(!0),j=(0,n.iH)({display:"none"}),C=()=>{!0===W.value?(W.value=!1,j.value={}):i.value.judgeCase.push({input:"",output:""})},V=e=>{console.log(e),0==e?(W.value=!0,j.value={display:"none"}):i.value.judgeCase.splice(e,1)},S=e=>{k.value=e};return(e,t)=>{const l=(0,o.up)("a-input"),u=(0,o.up)("a-form-item"),w=(0,o.up)("a-input-tag"),_=(0,o.up)("a-divider"),N=(0,o.up)("a-textarea"),z=(0,o.up)("a-space"),P=(0,o.up)("a-button"),x=(0,o.up)("a-input-number"),O=(0,o.up)("a-form");return(0,o.wg)(),(0,o.iD)("div",ht,[(0,o._)("div",wt,[(0,n.SU)(a).path.startsWith("/question/update")?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" 修改题目信息 ")],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)("创建题目")],64))]),(0,o.Wm)(O,{model:(0,n.SU)(i),size:"medium","label-align":"left",style:{"font-weight":"bold",margin:"0 auto"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{field:"title",label:"题目：",tooltip:"建议填写题目",required:"",rules:[{required:!0,message:"题目是必填的"}]},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:(0,n.SU)(i).title,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,n.SU)(i).title=e),placeholder:"请输入标题",style:{"max-width":"500px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{field:"tags",label:"题目标签：",required:"",tooltip:"建议填写题目标签"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:(0,n.SU)(i).tags,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,n.SU)(i).tags=e),placeholder:"请选择标签",style:{"max-width":"500px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{field:"content",label:"题目内容：",required:"",tooltip:"建议填写题目内容"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ae,{value:k.value,"handle-change":S},null,8,["value"])])),_:1}),(0,o.Wm)(_,{margin:10}),(0,o.Wm)(u,{label:"示例配置：","content-flex":!1,"merge-props":!1,required:"",tooltip:"建议填写示例配置"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.value,((e,t)=>((0,o.wg)(),(0,o.j4)(u,{key:t,"no-style":""},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{direction:"vertical",style:{"min-width":"650px"}},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)(u,{field:`form.judgeCase[${t}].input`,label:`第${t+1}个输入示例:`,key:t,tooltip:"主要的输入示例"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{modelValue:e.input,"onUpdate:modelValue":t=>e.input=t,placeholder:"请输入测试输入示例"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","label"])),((0,o.wg)(),(0,o.j4)(u,{field:`form.judgeCase[${t}].output`,label:`第${t+1}个输出示例:`,key:t,tooltip:"主要的输出示例"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{modelValue:e.output,"onUpdate:modelValue":t=>e.output=t,placeholder:"请输入测试输入示例"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","label"]))])),_:2},1024),(0,o.Wm)(z,{direction:"vertical",size:"large"},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{type:"outline",status:"danger",onClick:e=>V(t),shape:"round"},{default:(0,o.w5)((()=>[(0,o.Uk)(" 删除用例 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,o._)("div",bt,[(0,o.Wm)(P,{onClick:y,type:"outline",status:"success",shape:"round"},{default:(0,o.w5)((()=>[(0,o.Uk)("新增示例 ")])),_:1})])])),_:1}),(0,o.Wm)(_,{margin:10}),(0,o.Wm)(u,{label:"判题配置：","content-flex":!1,"merge-props":!1,required:"",tooltip:"建议填写判题配置"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{direction:"vertical",style:{"min-width":"500px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{field:"judgeConfig.timeLimit",label:"时间限制(ms)："},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:(0,n.SU)(i).judgeConfig.timeLimit,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,n.SU)(i).judgeConfig.timeLimit=e),placeholder:"请输入时间限制",mode:"button",min:0,size:"large"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{field:"judgeConfig.memoryLimit",label:"内存限制(KB)：",style:{width:"600px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:(0,n.SU)(i).judgeConfig.memoryLimit,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,n.SU)(i).judgeConfig.memoryLimit=e),placeholder:"请输入内存限制",mode:"button",min:0,size:"large"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,o.Wm)(_,{margin:10}),(0,o.Wm)(u,{label:"测试用例配置：","content-flex":!1,"merge-props":!1,required:"",tooltip:"建议填写测试用例配置"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,n.SU)(i).judgeCase,((e,t)=>((0,o.wg)(),(0,o.j4)(u,{key:t,"no-style":!W.value,style:(0,s.j5)(j.value)},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{direction:"vertical",style:{"min-width":"650px"}},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)(u,{field:`form.judgeCase[${t}].input`,label:`第${t+1}个输入用例:`,key:t,tooltip:"主要的输入用例"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{modelValue:e.input,"onUpdate:modelValue":t=>e.input=t,placeholder:"请输入测试输入用例"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","label"])),((0,o.wg)(),(0,o.j4)(u,{field:`form.judgeCase[${t}].output`,label:`第${t+1}个输出用例:`,key:t,tooltip:"主要的输出用例"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{modelValue:e.output,"onUpdate:modelValue":t=>e.output=t,placeholder:"请输入测试输出用例"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","label"]))])),_:2},1024),(0,o.Wm)(z,{direction:"vertical",size:"large"},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{type:"outline",status:"danger",onClick:e=>V(t),shape:"round"},{default:(0,o.w5)((()=>[(0,o.Uk)(" 删除用例 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["no-style","style"])))),128)),(0,o._)("div",yt,[(0,o.Wm)(P,{onClick:C,type:"outline",status:"success",shape:"round"},{default:(0,o.w5)((()=>[(0,o.Uk)("手动添加用例 ")])),_:1}),(0,o.Wm)(_,{margin:10}),(0,o.Wm)(P,{onClick:d,type:"outline",status:"success",shape:"round"},{default:(0,o.w5)((()=>[(0,o.Uk)("上传文件用例 ")])),_:1}),(0,o._)("input",{type:"file",onChange:p,style:{display:"none"},ref_key:"fileInput",ref:r},null,544),(0,o._)("p",null,[(0,o.Uk)("已选择的文件: "+(0,s.zw)(c.value)+" ",1),g.value?((0,o.wg)(),(0,o.iD)("span",_t,(0,s.zw)("上传中"+f.value),1)):((0,o.wg)(),(0,o.iD)("span",kt,(0,s.zw)(void 0!==m.value&&h.value?" 上传完成":""),1))]),(0,o.Wm)(P,{onClick:v,type:"outline",status:"success",shape:"round"},{default:(0,o.w5)((()=>[(0,o.Uk)("开始上传 ")])),_:1})])])),_:1}),(0,o.Wm)(_,{margin:10}),(0,o.Wm)(u,{class:"submit_btn"},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{type:"primary",style:{"min-width":"150px",margin:"0 auto"},shape:"round",onClick:U,disabled:!h.value},{default:(0,o.w5)((()=>[(0,o.Uk)("提交 ")])),_:1},8,["disabled"])])),_:1})])),_:1},8,["model"])])}}});const Wt=(0,v.Z)(Ut,[["__scopeId","data-v-6a5b834d"]]);var jt=Wt;const Ct={id:"manageQuestionView"};var Vt=(0,o.aZ)({__name:"ManageQuestionView",setup(e){function t(e,t){return e.length>t?e.slice(0,t-3)+"...":e}const a=(0,n.iH)(),l=(0,n.iH)([]),u=(0,n.iH)(0),i=(0,n.iH)({userId:void 0,tags:[],title:"",pageSize:10,current:1,content:""}),r=async()=>{const e=await oe.listQuestionByPageUsingPost({...i.value,sortField:"createTime",sortOrder:"descend"});0===e.code?(l.value=e.data.records,l.value.map((e=>vt(e.content)?e.content=JSON.parse(e.content).content:e)),u.value=e.data.total):ie.Z.error("加载失败，"+e.message)};(0,o.m0)((()=>{r()})),(0,o.bv)((()=>{r()}));const d=[{title:"题号",slotName:"id",align:"center"},{title:"题目",dataIndex:"title",align:"center"},{title:"标签",slotName:"tags",align:"center",width:150},{title:"提交数",dataIndex:"submitNum",width:50},{title:"通过数",dataIndex:"acceptedNum",width:50},{title:"题目要求",slotName:"judgeConfig",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center"},{title:"操作",slotName:"optional",align:"center"}],c=(0,n.iH)(!0),m={x:1100},p=e=>{i.value={...i.value,current:e}},g=e=>{i.value={...i.value,pageSize:e}},f=async e=>{const t=await oe.deleteQuestionUsingPost({id:e.id});0===t.code?(ie.Z.success("删除成功"),r()):ie.Z.error("删除失败")},v=(0,se.tv)(),h=e=>{v.push({name:"在线做题",params:{id:e.id,submitLanguage:e.submitLanguage,submitCode:e.submitCode}})},w=e=>{v.push({path:"/question/update",query:{id:e.id}})},b=()=>{i.value={...i.value,current:1}};return(e,n)=>{const r=(0,o.up)("a-input"),v=(0,o.up)("a-form-item"),y=(0,o.up)("a-input-tag"),_=(0,o.up)("a-button"),k=(0,o.up)("a-form"),U=(0,o.up)("a-link"),W=(0,o.up)("a-tag"),j=(0,o.up)("a-space"),C=(0,o.up)("a-popconfirm"),V=(0,o.up)("a-table");return(0,o.wg)(),(0,o.iD)("div",Ct,[(0,o.Wm)(k,{model:i.value,layout:"inline",style:{"justify-content":"center","align-content":"center",margin:"25px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{field:"title",label:"题目：",tooltip:"请输入搜索的题目"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{modelValue:i.value.title,"onUpdate:modelValue":n[0]||(n[0]=e=>i.value.title=e),placeholder:"请输入搜索题目"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(v,{field:"title",label:"用户：",tooltip:"请输入用户的id"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{modelValue:i.value.userId,"onUpdate:modelValue":n[1]||(n[1]=e=>i.value.userId=e),placeholder:"请输入搜索用户"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(v,{field:"title",label:"题目内容",tooltip:"请输入题目内容"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{modelValue:i.value.content,"onUpdate:modelValue":n[2]||(n[2]=e=>i.value.content=e),placeholder:"请输入题目内容"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(v,{field:"tags",label:"题目标签：",tooltip:"请输入搜索题目标签",style:{"min-width":"280px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{modelValue:i.value.tags,"onUpdate:modelValue":n[3]||(n[3]=e=>i.value.tags=e),placeholder:"请输入题目标签"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_,{type:"outline",shape:"round",status:"normal",onClick:b},{default:(0,o.w5)((()=>[(0,o.Uk)("搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.Wm)(V,{size:"large","column-resizable":!0,ref:a.value,columns:d,scroll:m,scrollbar:c.value,data:l.value,pagination:{showTotal:!0,pageSize:i.value.pageSize,current:i.value.current,total:u.value,showJumper:!0,showPageSize:!0},onPageChange:p,onPageSizeChange:g},{id:(0,o.w5)((({record:e})=>[(0,o.Wm)(U,{status:"normal",style:{color:"blue"},onClick:t=>h(e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.id),1)])),_:2},1032,["onClick"])])),tags:(0,o.w5)((({record:e})=>[(0,o.Wm)(j,{wrap:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(JSON.parse(e.tags),((e,t)=>((0,o.wg)(),(0,o.j4)(W,{key:t,color:"cyan"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),judgeConfig:(0,o.w5)((({record:e})=>[(0,o.Wm)(j,{wrap:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(JSON.parse(e.judgeConfig),((e,t)=>((0,o.wg)(),(0,o.j4)(W,{key:t,color:"orangered"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(""+("timeLimit"===t?"时间(ms)":"memoryLimit"===t?"内存(Kb)":"堆栈(Kb)"))+" "+(0,s.zw)("："+e),1)])),_:2},1024)))),128))])),_:2},1024)])),judgeCase:(0,o.w5)((({record:e})=>[(0,o.Wm)(j,{class:"tags"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(JSON.parse(e.judgeCase),((e,a)=>((0,o.wg)(),(0,o.j4)(W,{key:a,color:"blue"},{default:(0,o.w5)((()=>[(0,o.Uk)("示例"+(0,s.zw)(a+1)+": 输入："+(0,s.zw)(t(e.input,10))+" ，输出："+(0,s.zw)(t(e.output,10)),1)])),_:2},1024)))),128))])),_:2},1024)])),optional:(0,o.w5)((({record:e})=>[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_,{shape:"round",type:"outline",onClick:t=>w(e)},{default:(0,o.w5)((()=>[(0,o.Uk)("修改 ")])),_:2},1032,["onClick"]),(0,o.Wm)(C,{content:"确定要删除此题目吗?",type:"error",okText:"是",cancelText:"否",onCancel:n[4]||(n[4]=()=>{console.log("已取消")}),onOk:t=>f(e)},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{shape:"round",type:"outline",status:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)("删除 ")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1},8,["scrollbar","data","pagination"])])}}});const St=(0,v.Z)(Vt,[["__scopeId","data-v-ce48c9c0"]]);var Nt=St;const zt={id:"questionsView"};var Pt=(0,o.aZ)({__name:"QuestionsView",setup(e){const t=(0,n.iH)(),a=(0,n.iH)([]),l=(0,n.iH)(0),u=(0,n.iH)({title:"",tags:[],pageSize:10,current:1}),i=async()=>{const e=await oe.listQuestionVoByPageUsingPost({...u.value,sortField:"createTime",sortOrder:"descend"});0===e.code?(a.value=e.data.records,l.value=e.data.total):ie.Z.error("加载失败，"+e.message)};(0,o.m0)((()=>{i()})),(0,o.bv)((()=>{i()}));const r=[{title:"题号",dataIndex:"id",align:"center"},{title:"题目",dataIndex:"title",align:"center"},{title:"题目标签",slotName:"tags",align:"center"},{title:"通过率",slotName:"acceptedRate",align:"center"},{title:"创建时间",slotName:"createTime",align:"center",sortable:{sortDirections:["ascend"]}},{title:"操作",slotName:"optional",align:"center"}],d=e=>{u.value={...u.value,current:e}},c=e=>{u.value={...u.value,pageSize:e}},m=(0,se.tv)(),p=e=>{m.push({path:`/question/view/${e.id}`})},g=()=>{u.value={...u.value,current:1}};return(e,i)=>{const m=(0,o.up)("a-input"),f=(0,o.up)("a-form-item"),v=(0,o.up)("a-input-tag"),h=(0,o.up)("a-button"),w=(0,o.up)("a-form"),b=(0,o.up)("a-divider"),y=(0,o.up)("a-tag"),_=(0,o.up)("a-space"),k=(0,o.up)("a-table");return(0,o.wg)(),(0,o.iD)("div",zt,[(0,o.Wm)(w,{model:u.value,layout:"inline",style:{"margin-left":"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{field:"title",label:"题目：",tooltip:"请输入搜索的题目"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:u.value.title,"onUpdate:modelValue":i[0]||(i[0]=e=>u.value.title=e),placeholder:"请输入搜索题目"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{field:"tags",label:"题目标签：",tooltip:"请输入搜索题目标签",style:{"min-width":"280px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{modelValue:u.value.tags,"onUpdate:modelValue":i[1]||(i[1]=e=>u.value.tags=e),placeholder:"请输入题目标签"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{type:"outline",shape:"round",status:"normal",onClick:g},{default:(0,o.w5)((()=>[(0,o.Uk)("搜索 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.Wm)(b,{size:0}),(0,o.Wm)(k,{"column-resizable":"",wrapper:"",ref:t.value,columns:r,data:a.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:l.value,showJumper:!0,showPageSize:!0},onPageChange:d,onPageSizeChange:c},{tags:(0,o.w5)((({record:e})=>[(0,o.Wm)(_,{wrap:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tags,((e,t)=>((0,o.wg)(),(0,o.j4)(y,{size:"medium",key:t,color:"green"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),acceptedRate:(0,o.w5)((({record:e})=>[(0,o.Uk)((0,s.zw)(`${Math.round(100*(e.submitNum>0?e.acceptedNum/e.submitNum*100:0))/100}% (${e.acceptedNum}/${e.submitNum})`),1)])),createTime:(0,o.w5)((({record:e})=>[(0,o.Uk)((0,s.zw)((0,n.SU)(ve())(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),optional:(0,o.w5)((({record:e})=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{shape:"round",status:"normal",type:"primary",onClick:t=>p(e)},{default:(0,o.w5)((()=>[(0,o.Uk)(" 做题 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:1},8,["data","pagination"])])}}});const xt=(0,v.Z)(Pt,[["__scopeId","data-v-4b11167d"]]);var Ot=xt;const Tt={id:"questionSubmitView"};var Zt=(0,o.aZ)({__name:"QuestionSubmitView",setup(e){const t=(0,n.iH)(),a=(0,n.iH)([]),l=(0,n.iH)(0),u=(0,n.iH)({questionId:void 0,submitLanguage:void 0,pageSize:10,current:1}),i=["orange","green","blue","red"],r=(0,re.oR)(),d=async()=>{const e=await ne.listQuestionSubmitByPageUsingPost({...u.value,sortField:"createTime",sortOrder:"descend",userId:r.state.user.loginUser.id});0===e.code?(a.value=e.data.records,l.value=e.data.total):ie.Z.error("加载失败，"+e.message)};(0,o.m0)((()=>{d()})),(0,o.bv)((()=>{d()}));const c=[{title:"题号",slotName:"questionId",align:"center"},{title:"提交者",dataIndex:"userVO.userName",align:"center"},{title:"判题信息",slotName:"judgeInfo",align:"center"},{title:"编程语言",dataIndex:"submitLanguage",align:"center"},{title:"执行状态",slotName:"submitState",align:"center"},{title:"创建时间",slotName:"createTime",align:"center"}],m=e=>{u.value={...u.value,current:e}},p=e=>{u.value={...u.value,pageSize:e}},g=(0,se.tv)(),f=e=>{g.push({name:"在线做题",params:{id:e.questionId,submitLanguage:e.submitLanguage,submitCode:e.submitCode}})},v=()=>{u.value={...u.value,current:1}};return(e,r)=>{const g=(0,o.up)("a-input"),h=(0,o.up)("a-form-item"),w=(0,o.up)("a-option"),b=(0,o.up)("a-select"),y=(0,o.up)("a-button"),_=(0,o.up)("a-form"),k=(0,o.up)("a-divider"),U=(0,o.up)("a-tag"),W=(0,o.up)("a-space"),j=(0,o.up)("a-link"),C=(0,o.up)("a-table");return(0,o.wg)(),(0,o.iD)("div",Tt,[(0,o.Wm)(_,{model:u.value,layout:"inline",style:{"margin-left":"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{field:"questionId",label:"题号",tooltip:"请输入题目Id"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:u.value.questionId,"onUpdate:modelValue":r[0]||(r[0]=e=>u.value.questionId=e),placeholder:"请输入搜索题号"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(h,{field:"submitLanguage",label:"编程语言：",style:{"min-width":"240px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:u.value.submitLanguage,"onUpdate:modelValue":r[1]||(r[1]=e=>u.value.submitLanguage=e),placeholder:"选择编程语言"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)("java")])),_:1}),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)("cpp")])),_:1}),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)("csharp")])),_:1}),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)("go")])),_:1}),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)("python")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{type:"outline",shape:"round",status:"normal",onClick:v},{default:(0,o.w5)((()=>[(0,o.Uk)("搜索 ")])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{type:"primary",shape:"round",status:"success",onClick:d},{default:(0,o.w5)((()=>[(0,o.Uk)("刷新 ")])),_:1})])),_:1})])),_:1},8,["model"]),(0,o.Wm)(k,{size:"0"}),(0,o.Wm)(C,{"column-resizable":"",wrapper:"",ref:t.value,columns:c,data:a.value,pagination:{showTotal:!0,pageSize:u.value.pageSize,current:u.value.current,total:l.value,showJumper:!0,showPageSize:!0},onPageChange:m,onPageSizeChange:p},{judgeInfo:(0,o.w5)((({record:e})=>[(0,o.Wm)(W,{wrap:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.judgeInfo,((e,t)=>((0,o.wg)(),(0,o.j4)(U,{size:"medium",key:t,color:i[t.length%i.length]},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(""+("message"===t?"结果":"time"===t?"耗时":"消耗内存"))+" "+(0,s.zw)("："+e),1)])),_:2},1032,["color"])))),128))])),_:2},1024)])),createTime:(0,o.w5)((({record:e})=>[(0,o.Uk)((0,s.zw)((0,n.SU)(ve())(e.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),questionId:(0,o.w5)((({record:e})=>[(0,o.Wm)(j,{status:"success",style:{color:"blue"},onClick:t=>f(e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.questionId),1)])),_:2},1032,["onClick"])])),submitState:(0,o.w5)((({record:e})=>[0===e.submitState?((0,o.wg)(),(0,o.j4)(U,{key:0,color:"cyan"},{default:(0,o.w5)((()=>[(0,o.Uk)("待判题")])),_:1})):(0,o.kq)("",!0),1===e.submitState?((0,o.wg)(),(0,o.j4)(U,{key:1,color:"green"},{default:(0,o.w5)((()=>[(0,o.Uk)("判题中")])),_:1})):(0,o.kq)("",!0),2===e.submitState?((0,o.wg)(),(0,o.j4)(U,{key:2,color:"blue"},{default:(0,o.w5)((()=>[(0,o.Uk)("成功")])),_:1})):(0,o.kq)("",!0),3===e.submitState?((0,o.wg)(),(0,o.j4)(U,{key:3,color:"red"},{default:(0,o.w5)((()=>[(0,o.Uk)("失败")])),_:1})):(0,o.kq)("",!0)])),_:1},8,["data","pagination"])])}}});const It=(0,v.Z)(Zt,[["__scopeId","data-v-062b7f88"]]);var Ht=It,Lt=a(53767),Ft=(0,o.aZ)({__name:"MdViewer",props:{value:{default:()=>""}},setup(e){const t=[(0,Ce.Z)({locale:qe}),(0,De.Z)(),(0,Lt.Z)({locale:Fe}),(0,Ne.Z)()];return(e,a)=>((0,o.wg)(),(0,o.j4)((0,n.SU)(Ve.A),{value:e.value,plugins:t,locale:(0,n.SU)(Se)},null,8,["value","locale"]))}});const qt=Ft;var Dt=qt;const Et={id:"viewQuestionView"},Mt={style:{"white-space":"pre-wrap"}},At={style:{"white-space":"pre-wrap"}},$t={key:0,class:"self_test_div"},Rt=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[(0,o._)("circle",{cx:"10",cy:"10",r:"9",fill:"#eee"}),(0,o._)("path",{d:"M14.142 5.757c-.39-.39-1.022-.39-1.414 0L10 8.586 7.172 5.757c-.39-.39-1.022-.39-1.414 0-.39.39-.39 1.023 0 1.414l3.536 3.536c.195.195.451.293.707.293s.512-.098.707-.293l3.536-3.536c.39-.391.39-1.024 0-1.414z",fill:"black"})],-1),Bt=[Rt],Yt={key:1,class:"bottom_bar"},Jt="";var Gt=(0,o.aZ)({__name:"ViewQuestionView",props:{id:{default:()=>""},submitLanguage:{default:()=>""},submitCode:{default:()=>""}},setup(e){const t=e,a=(0,n.iH)(""),l=(0,n.iH)("");async function u(){const e=await ne.doQuestionSubmitOnlineUsingPost({input:a.value,submitCode:h.value.submitCode,submitLanguage:h.value.submitLanguage});l.value=e.data}async function i(e){console.log(e);try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}const r=(0,n.iH)(),d=(0,n.iH)([{input:"",output:""}]),c=async()=>{const e=await oe.getQuestionVoByIdUsingGet(t.id);if(0===e.code){if(r.value=e.data,vt(r.value.content)){console.log(r.value.content);let e=JSON.parse(r.value.content);r.value.content=e.content,d.value=e.visibleJudgeCase}}else ie.Z.error("加载失败，"+e.message)},m=(0,n.iH)(!0);function p(){console.log("clo"),m.value=!0}function g(){console.log("in test"),m.value=!1}const f=(0,n.iH)("jksjd"),v=()=>{h.value.submitCode=t.submitCode,h.value.submitLanguage=t.submitLanguage,f.value="dsjkdhajkfbsj"},h=(0,n.iH)({submitLanguage:"java",submitCode:""}),w=async()=>{if(!r.value?.id)return;const e=await ne.doQuestionSubmitUsingPost({...h.value,questionId:r.value.id});0===e.code?ie.Z.success("提交成功，请到已提交题目界面查看"):ie.Z.error("提交失败,"+e.message)},b=(0,n.iH)(!0);(0,o.bv)((()=>{console.log(" in mount"),c();const e=(0,se.yj)();""!==e.params.submitLanguage?(console.log("not test!!!"),b.value=!1,v()):(console.log("in mount else"),h.value.submitCode=Jt)}));const y=e=>{h.value.submitCode=e};return(e,t)=>{const n=(0,o.up)("a-form-item"),c=(0,o.up)("a-form"),f=(0,o.up)("a-tag"),v=(0,o.up)("a-space"),_=(0,o.up)("a-card"),k=(0,o.up)("a-link"),U=(0,o.up)("a-tab-pane"),W=(0,o.up)("a-tabs"),j=(0,o.up)("a-col"),C=(0,o.up)("a-option"),V=(0,o.up)("a-select"),S=(0,o.up)("a-textarea"),N=(0,o.up)("a-button"),z=(0,o.up)("a-row");return(0,o.wg)(),(0,o.iD)("div",Et,[(0,o.Wm)(z,{class:"main_row"},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{span:12},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{"default-active-key":"question",class:"left_tab"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{key:"question",title:"题目",class:"left_tab_questions"},{default:(0,o.w5)((()=>[r.value?((0,o.wg)(),(0,o.j4)(_,{key:0,title:r.value.title},{extra:(0,o.w5)((()=>[(0,o.Wm)(v,{wrap:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.value.tags,((e,t)=>((0,o.wg)(),(0,o.j4)(f,{key:t,color:"green"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1024)))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"info_form",layout:"inline"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{label:"判题条件："}),(0,o.Wm)(n,{tooltip:"Java、Python 为 C 两倍",label:"时间限制(ms)"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(r.value.judgeConfig.timeLimit??0),1)])),_:1}),(0,o.Wm)(n,{tooltip:"Java、Python 为 C 两倍",label:"内存限制(KB)"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(r.value.judgeConfig.memoryLimit??0),1)])),_:1})])),_:1}),(0,o.Wm)(Dt,{value:r.value.content||""},null,8,["value"])])),_:1},8,["title"])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.value,((e,t)=>((0,o.wg)(),(0,o.j4)(_,{title:"示例"+(t+1),size:"small",key:t},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{marginBottom:"20px"},title:"输入示例"},{extra:(0,o.w5)((()=>[(0,o.Wm)(k,{onClick:t=>i(e.input)},{default:(0,o.w5)((()=>[(0,o.Uk)("复制")])),_:2},1032,["onClick"])])),default:(0,o.w5)((()=>[(0,o._)("div",Mt,(0,s.zw)(e.input),1)])),_:2},1024),(0,o.Wm)(_,{title:"输出示例"},{extra:(0,o.w5)((()=>[(0,o.Wm)(k,{onClick:t=>i(e.output)},{default:(0,o.w5)((()=>[(0,o.Uk)("复制")])),_:2},1032,["onClick"])])),default:(0,o.w5)((()=>[(0,o._)("div",At,(0,s.zw)(e.output),1)])),_:2},1024)])),_:2},1032,["title"])))),128))])),_:1}),(0,o.Wm)(U,{key:"comment",title:"评论",disabled:""},{default:(0,o.w5)((()=>[(0,o.Uk)(" 评论区")])),_:1}),(0,o.Wm)(U,{key:"answer",title:"答案"},{default:(0,o.w5)((()=>[(0,o.Uk)(" 提交后方可查看答案")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(j,{class:"right_view",span:12},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{model:h.value,layout:"inline"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{field:"submitLanguage",label:"编程语言：",style:{"min-width":"240px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:h.value.submitLanguage,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value.submitLanguage=e),placeholder:"选择编程语言"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Uk)("java")])),_:1}),(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Uk)("c")])),_:1}),(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Uk)("c++")])),_:1}),(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Uk)("python")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.Wm)(Ye,{language:"c++"==h.value.submitLanguage?"cpp":h.value.submitLanguage,value:h.value.submitCode,"handle-change":y},null,8,["language","value"]),m.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",$t,[(0,o.Wm)(_,{size:"small",title:"输入示例","body-style":{flexGrow:1,padding:0}},{extra:(0,o.w5)((()=>[(0,o.Wm)(k,{onClick:u},{default:(0,o.w5)((()=>[(0,o.Uk)("测试")])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(S,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),placeholder:"在这里输入输入示例",class:"self_test_input","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(_,{size:"small",title:"运行结果"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(l.value),1)])),_:1}),(0,o._)("div",{class:"self_test_close_btn",onClick:p},Bt)])),b.value?((0,o.wg)(),(0,o.iD)("div",Yt,[(0,o.Wm)(N,{type:"primary",onClick:g},{default:(0,o.w5)((()=>[(0,o.Uk)("在线自测")])),_:1}),(0,o.Wm)(N,{type:"primary",status:"success",onClick:w},{default:(0,o.w5)((()=>[(0,o.Uk)("提交代码")])),_:1})])):(0,o.kq)("",!0)])),_:1})])),_:1})])}}});const Qt=Gt;var Kt=Qt;const Xt=[{path:"/user",name:"用户",component:ft,children:[{path:"/user/login",name:"用户登录",component:ge},{path:"/user/info",name:"用户信息",component:je}],meta:{hideInMenu:!0}},{path:"/",name:"首页",component:Ot},{path:"/example",name:"示例",component:Ke,meta:{hideInMenu:!0}},{path:"/question_submit",name:"已提交题目展示",component:Ht},{path:"/question/view/:id/:submitLanguage?/:submitCode?",name:"在线做题",component:Kt,props:!0,meta:{access:it.USER,hideInMenu:!0}},{path:"/question/add",name:"创建题目",component:jt,meta:{access:it.ADMIN}},{path:"/question/update",name:"更新题目",component:jt,meta:{hideInMenu:!0,access:it.ADMIN}},{path:"/question/manage",name:"管理题目",component:Nt,meta:{access:it.ADMIN}},{path:"/manage/user",name:"用户管理",component:nt,meta:{access:it.ADMIN}},{path:"/noAuth",name:"无权限",component:b,meta:{hideInMenu:!0}},{path:"/404",name:"404",component:()=>a.e(8876).then(a.bind(a,82275)),meta:{hideInMenu:!0}},{path:"/:pathMatch(.*)",redirect:"/404"}],ea=(e,t=it.NOT_LOGIN)=>{const a=e?.userRole??it.NOT_LOGIN;return t===it.NOT_LOGIN||(t!==it.USER||a!==it.NOT_LOGIN)&&(t!==it.ADMIN||a===it.ADMIN)};var ta=ea;const aa=e=>((0,o.dD)("data-v-4e22c1d6"),e=e(),(0,o.Cn)(),e),la=aa((()=>(0,o._)("div",{class:"title-bar"},[(0,o._)("img",{class:"logo",src:r}),(0,o._)("div",{class:"title"},"思源 OJ")],-1)));var oa=(0,o.aZ)({__name:"GlobalHeader",setup(e){const t=(0,se.tv)(),a=(0,re.oR)(),l=(0,o.Fl)((()=>a.state.user?.loginUser)),u=(0,o.Fl)((()=>Xt.filter(((e,t)=>!e.meta?.hideInMenu&&!!ta(a.state.user.loginUser,e?.meta?.access))))),i=async()=>{const e=await ue.userLogoutUsingPost();console.log(e),0===e.code&&location.reload()},r=(0,n.iH)(["/"]);t.afterEach(((e,t,a)=>{r.value=[e.path]}));const d=e=>{t.push({path:e})};function c(){t.push("/user/login")}function m(){t.push("/user/info")}return(e,t)=>{const a=(0,o.up)("a-menu-item"),p=(0,o.up)("a-menu"),g=(0,o.up)("a-col"),f=(0,o.up)("a-avatar"),v=(0,o.up)("IconUser"),h=(0,o.up)("icon-idcard"),w=(0,o.up)("a-anchor-link"),b=(0,o.up)("a-doption"),y=(0,o.up)("icon-poweroff"),_=(0,o.up)("icon-user"),k=(0,o.up)("a-dropdown"),U=(0,o.up)("a-space"),W=(0,o.up)("a-row");return(0,o.wg)(),(0,o.j4)(W,{id:"globalHeader",align:"center",wrap:!1},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{flex:"auto"},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(p,{mode:"horizontal","selected-keys":r.value,onMenuItemClick:d},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{key:"0",style:{padding:0,marginRight:"38px"},disabled:""},{default:(0,o.w5)((()=>[la])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.value,(e=>((0,o.wg)(),(0,o.j4)(a,{key:e.path},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.name),1)])),_:2},1024)))),128))])),_:1},8,["selected-keys"])])])),_:1}),(0,o.Wm)(U,{size:"large"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{trigger:"hover"},{content:(0,o.w5)((()=>[l.value.userRole!==(0,n.SU)(it).NOT_LOGIN?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(b,null,{icon:(0,o.w5)((()=>[(0,o.Wm)(h)])),default:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:m},{default:(0,o.w5)((()=>[(0,o.Uk)("个人信息")])),_:1})])),_:1}),(0,o.Wm)(b,null,{icon:(0,o.w5)((()=>[(0,o.Wm)(y)])),default:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:i},{default:(0,o.w5)((()=>[(0,o.Uk)("退出登录")])),_:1})])),_:1})],64)):((0,o.wg)(),(0,o.j4)(b,{key:1},{icon:(0,o.w5)((()=>[(0,o.Wm)(_)])),default:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:c},{default:(0,o.w5)((()=>[(0,o.Uk)("登录")])),_:1})])),_:1}))])),default:(0,o.w5)((()=>[l.value&&l.value.userRole!==(0,n.SU)(it).NOT_LOGIN?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[l.value.userAvatar?((0,o.wg)(),(0,o.j4)(f,{key:0,shape:"circle","image-url":l.value.userAvatar},null,8,["image-url"])):((0,o.wg)(),(0,o.j4)(f,{key:1,shape:"circle"},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1}))],64)):((0,o.wg)(),(0,o.j4)(f,{key:1,shape:"circle",style:{backgroundColor:"#3370ff"}},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1}))])),_:1})])),_:1})])),_:1})}}});const na=(0,v.Z)(oa,[["__scopeId","data-v-4e22c1d6"]]);var ua=na,ia={components:{GlobalHeader:ua}};const sa=(0,v.Z)(ia,[["render",i],["__scopeId","data-v-515faf8b"]]);var ra=sa;function da(e=(0,n.iH)(document.body)){function t(e,t){const a=document.createElement("canvas"),l=350,o=300,n=15;Object.assign(a,{width:l,height:o});const u=a.getContext("2d");return u&&(u.font=t?.font??`${n}px Reggae One`,u.fillStyle=t?.fillStyle??"rgba(0,0,0,0.12)",u.textBaseline="top",u.fillText(e,-e.length*n/2,0),u.fillText(e,l-e.length*n/2,0),u.fillText(e,(l-e.length*n)/2,o/2)),a.toDataURL("image/png")}const a="waterId",l=(0,n.XI)(),u=(t,o)=>{if((0,n.SU)(l))return i({str:t,attr:o}),a;const u=document.createElement("div");l.value=u,u.id=a,u.style.pointerEvents="none",u.style.position="fixed",u.style.zIndex="10";const s=(0,n.SU)(e);if(!s)return a;const{offsetHeight:r,offsetWidth:d}=s;return i({str:t,width:d,height:r,attr:o}),s.appendChild(u),a};function i(e={}){const a=(0,n.SU)(l);if(!a)return;const o=2;if(void 0!==e.width&&(a.style.width=e.width*o+"px"),void 0!==e.height&&(a.style.height=e.height*o+"px"),void 0!==e.str&&void 0!==e.height&&void 0!==e.width){a.style.background=`url(${t(e.str,e.attr)}) left top repeat`;const l=-30,n=u(l,e.width,e.height)/o;a.style.transform=`rotate(${l}deg) scale(${n})`,a.style.transformOrigin="center center"}function u(e,t,a){if(void 0!==t&&void 0!==a){e=Math.abs(e);const l=e*(Math.PI/180),o=t*Math.cos(l)+a*Math.sin(l),n=t*Math.sin(l)+a*Math.cos(l),u=Math.max(n/a,o/t);return u}return 2}}function s(e,t){u(e,t),window.addEventListener("resize",r);const a=(0,o.FN)();a&&(0,o.Jd)((()=>{d()}))}const r=function(){const t=(0,n.SU)(e);if(!t)return;const{clientHeight:a,clientWidth:l}=t;i({height:a,width:l})},d=()=>{const t=(0,n.SU)(l);l.value=void 0;const a=(0,n.SU)(e);a&&(t&&a.removeChild(t),window.removeEventListener("resize",r))};return{setWatermark:s,clear:d}}const ca={id:"app"};var ma=(0,o.aZ)({__name:"App",setup(e){const t=(0,se.yj)(),a=(0,n.iH)(null),l=()=>{console.log("init")};var u=null;return(0,o.bv)((()=>{l();const{setWatermark:e,clear:t}=da(a.value);u=t,e("WXXY计算机协会")})),(0,o.Jd)((()=>{u()})),(e,l)=>{const u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",ca,[(0,n.SU)(t).path.startsWith("/user")?((0,o.wg)(),(0,o.j4)(u,{key:0})):((0,o.wg)(),(0,o.j4)(ra,{key:1,class:".base_layout",id:"base_layout"}))]),(0,o._)("div",{class:"watermark_container",ref_key:"watermark_container",ref:a},null,512)],64)}}});const pa=(0,v.Z)(ma,[["__scopeId","data-v-4205b2b9"]]);var ga=pa;const fa=(0,se.p7)({history:(0,se.r5)(),routes:Xt});var va=fa,ha=a(8455),wa=(a(49072),{namespaced:!0,state:()=>({loginUser:{userName:"未登录"}}),actions:{async getLoginUser({commit:e,state:t}){const a=await ue.getLoginUserUsingGet();0===a.code?e("updateUser",a.data):e("updateUser",{...t.loginUser,userRole:it.NOT_LOGIN})}},mutations:{updateUser(e,t){e.loginUser=t}}}),ba=(0,re.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:wa}});O.WITH_CREDENTIALS=!0;const ya="https://p33275o963.yicp.fun";O.BASE=ya,console.log("当前环境：","production","请求地址",ya),T.Z.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),T.Z.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),va.beforeEach((async(e,t,a)=>{let l=ba.state.user.loginUser;l&&l.userRole||(await ba.dispatch("user/getLoginUser"),l=ba.state.user.loginUser);const o=e.meta?.access??it.NOT_LOGIN;if(o!==it.NOT_LOGIN){if(!l||!l.userRole||l.userRole===it.NOT_LOGIN)return ie.Z.warning("请登录！"),void a(`/user/login?redirect=${e.fullPath}`);if(!ta(l,o))return void a("/noAuth")}a()}));var _a=a(88914);a(48063);(0,l.ri)(ga).use(ba).use(va).use(ha.Z).use(_a.Z).mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var n=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,l,o,n){if(!l){var u=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],n=e[d][2];for(var i=!0,s=0;s<l.length;s++)(!1&n||u>=n)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(i=!1,n<u&&(u=n));if(i){e.splice(d--,1);var r=o();void 0!==r&&(t=r)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,l){return a.f[l](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{15:"ce5bed94",386:"68b97479",413:"85247251",501:"a3bb4c4b",622:"03f0b8c8",786:"c67bc711",1022:"b5415e07",1030:"728c5cb4",1319:"38280895",1463:"e0d48b4b",1598:"0e4fa7d3",1636:"85a64228",2008:"806692b0",2020:"733021c2",2250:"dd47fd51",2341:"dfdd6cae",2358:"0ef74a71",2401:"5d54cff0",2532:"c7b40cd5",2784:"506a28e7",2804:"855ff268",2936:"934d96f7",3202:"508e9949",3263:"94143e99",3268:"e9a55adb",3415:"a81f91fd",3629:"5b8de0b2",3700:"20f50dd4",3703:"361b44cc",3817:"1ed9ca4f",3956:"324ef11a",3986:"820a7703",4034:"a087c4da",4366:"fbab3650",4816:"91920c63",4962:"da28a98b",5019:"512ee85e",5096:"367b181a",5106:"92845f89",5191:"d0288d48",5254:"4dc8e2d6",5527:"39947430",5630:"b118de00",5661:"88ae3afa",5662:"31d96430",5710:"6725b1ef",5792:"a0cfb596",5856:"4b4b2194",5985:"3ca99bde",6044:"3929b419",6048:"92ab24d5",6346:"21a5dc2a",6388:"fbeca834",6540:"62a1900e",6590:"75eea022",6786:"3f3cd8ca",6862:"4381309c",6877:"9700980b",6896:"073be187",7007:"aabce6b0",7010:"a3677ec3",7083:"1ed84c2a",7099:"6276ca73",7146:"201638ab",7271:"e80106bc",7473:"568cb6bf",7500:"3636b1f8",7517:"c008d0a6",7643:"ea082111",7954:"4383583f",7973:"eddc1cc7",8248:"1e6fdb3d",8412:"3fbaa780",8647:"25704844",8822:"2734643d",8876:"e02356f8",9007:"328b7c36",9111:"2ae1da66",9270:"71b7759b",9380:"de7e9220",9583:"26b4543d",9674:"8fc837a0",9700:"20f793b4",9765:"26b7331d",9903:"71d11863",9906:"276af7c8",9928:"62e32cca"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".3cefefb6.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="OJ:";a.l=function(l,o,n,u){if(e[l])e[l].push(o);else{var i,s;if(void 0!==n)for(var r=document.getElementsByTagName("script"),d=0;d<r.length;d++){var c=r[d];if(c.getAttribute("src")==l||c.getAttribute("data-webpack")==t+n){i=c;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=l),e[l]=[o];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var o=e[l];if(delete e[l],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,l,o){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var u=function(a){if(n.onerror=n.onload=null,"load"===a.type)l();else{var u=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=u,s.request=i,n.parentNode&&n.parentNode.removeChild(n),o(s)}};return n.onerror=n.onload=u,n.href=t,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},t=function(e,t){for(var a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var o=a[l],n=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){o=u[l],n=o.getAttribute("data-href");if(n===e||n===t)return o}},l=function(l){return new Promise((function(o,n){var u=a.miniCssF(l),i=a.p+u;if(t(u,i))return o();e(l,i,null,o,n)}))},o={2143:0};a.f.miniCss=function(e,t){var a={8876:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=l(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={2143:0};a.f.j=function(t,l){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)l.push(o[2]);else{var n=new Promise((function(a,l){o=e[t]=[a,l]}));l.push(o[2]=n);var u=a.p+a.u(t),i=new Error,s=function(l){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=l&&("load"===l.type?"missing":l.type),u=l&&l.target&&l.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+u+")",i.name="ChunkLoadError",i.type=n,i.request=u,o[1](i)}};a.l(u,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,n,u=l[0],i=l[1],s=l[2],r=0;if(u.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(s)var d=s(a)}for(t&&t(l);r<u.length;r++)n=u[r],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},l=self["webpackChunkOJ"]=self["webpackChunkOJ"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[4998],(function(){return a(81243)}));l=a.O(l)})();
//# sourceMappingURL=app.082e1083.js.map